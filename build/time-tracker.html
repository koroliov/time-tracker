<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>time-tracker</title>
  <meta name="description" content="track time">
  <meta name="author" content="d.koroliov@gmail.com">
  <!--<meta http-equiv="refresh" content="2">-->
  <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon">
  <style>
    body {
      font-size: var(--base-font-size);
      font-family: sans-serif;
    }
  </style>
</head>
<body>
  <template id="time-tracker">
    <style>
      #time-tracker {
        --base-font-size: 16px;
        --main-bg-color: white;
        font-size: calc(var(--base-font-size) * 0.9);
        line-height: calc(var(--base-font-size) * 1.1);
        max-width: 1200px;
        margin: 0 auto;
        border: 1px solid black;
        padding: 0 0 0 calc(var(--base-font-size) * 0.5);
      }

      #time-tracker > .grid-wrapper {
        display: grid;
        --grid-columns: 4;
        grid-template-rows: 0.8fr;
        grid-template-columns: repeat(var(--grid-columns), 1fr);
      }
      h1 {
        font-size: calc(var(--base-font-size) * 1.2);
        line-height: calc(var(--base-font-size) * 0.5);
        text-align: center;
      }
      h1 div {
        font-size: calc(var(--base-font-size) * 1.1);
        font-weight: normal;
        margin-top: calc(var(--base-font-size));
      }
      h1 span {
        margin: 0 calc(var(--base-font-size));
      }

      .caption {
        font-size: calc(var(--base-font-size) * 1.1);
        grid-column: 1;
      }
      .value {
        grid-column: 2;
      }
      .percent-current {
        grid-column: 3;
      }
      .percent-target {
        grid-column: 4;
      }

      .head {
        font-size: calc(var(--base-font-size) * 1.1);
      }

      #time-tracker > .grid-wrapper > .controls {
        grid-column: 1 / calc(var(--grid-columns) + 1);
        margin-bottom: calc(var(--base-font-size) * 0.2);
      }
      #time-tracker > .controls > a {
        margin-left: 1ex;
      }
      #time-tracker > .controls > a:first-child {
        margin-left: 0;
      }
      .controls a {
        margin-right: var(--base-font-size);
      }
      .children {
        grid-column: 1 / calc(var(--grid-columns) + 1);
      }
      /* children */

      .entry {
        border: solid 1px black;
        border-right: none;
        padding-left: calc(var(--base-font-size) * 0.5);
        display: grid;
        --grid-columns: 4;
        grid-template-columns: 5fr repeat(3, calc(var(--base-font-size) * 6));
      }
      time-entry {
        display: block;
      }
      time-entry:nth-child(odd) {
        background-color: var(--main-bg-color);
      }
      time-entry:nth-child(even) {
        background-color: #ebebeb;
      }
      time-entry.is-active {
        background-color: #e0ffe9;
      }
      /* I don't know a better way to do it in CSS */
      .entry > div:nth-child(1),
      .entry > div:nth-child(2),
      .entry > div:nth-child(3),
      .entry > div:nth-child(4) {
        font-weight: bold;
      }
      .entry > .controls {
        grid-column: 1/2;
        grid-row: 4;
      }
    </style>

    <div id="time-tracker">
      <h1>Time Tracker
        <div>
          <span>target</span>
          <span>total:</span>
          <span contenteditable="true" class="abs-value">5d</span>
          <span>billable:</span>
          <span contenteditable="true" class="percent-value">50%</span>
        </div>
      </h1>
      <div class="grid-wrapper">
        <div class="head caption">Time spent</div>
        <div class="head value">value</div>
        <div class="head percent-current">current</div>
        <div class="head percent-targed">target</div>

        <div class="total caption">Total:</div>
        <div class="total value">—</div>
        <div class="total percent-current">—</div>
        <div class="total percent-target">—</div>

        <div class="billable caption">Billable:</div>
        <div class="billable value">—</div>
        <div class="billable percent-current">— %</div>
        <div class="billable percent-target">— %</div>

        <div class="controls">
          <a href="#" class="clear">Clear</a>
          <a href="#" class="new-entry">New Entry</a>
          <a href="#" class="collapse-open">Collapse (0)</a>
        </div>
        <div class="children"></div>
      </div>
    </div>
  </template>
  <template id="time-entry">
    <div class="entry">
      <div>
        <div class="title" contenteditable="true">
          SB-2323 {Foo - bar}
        </div>
      </div>
      <div class="time-spent-title">time spent</div>
      <div class="time-spent-value">value</div>
      <div class="time-spent-percent">percent</div>

      <div>
        <div class="comment" contenteditable="true"></div>
      </div>
      <div class="total-title">Total:</div>
      <div class="total-value">—</div>
      <div class="total-percent">—</div>

      <label class="is-own-time-billable">
        Is own time billable: <input type="checkbox">
      </label>
      <div class="own-title">Own:</div>
      <div class="own-value">
        <div contenteditable="true">—</div>
      </div>
      <div class="own-percent">—</div>

      <div class="billable-title">Billable:</div>
      <div class="billable-value">—</div>
      <div class="billable-percent">— %</div>

      <div class="controls">
        <a href="#" class="start-stop">Start</a>
        <a href="#" class="new-entry">New Entry</a>
        <a href="#" class="collapse-open">Collapse (0)</a>
      </div>

      <div class="children"></div>
    </template>
  <script src="./script.js"></script>
</body>
</html>
